<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows | B2B Vic</title>
    <meta name="description" content="Automated data quality systems for B2B CRMs. Validation rules, duplicate detection, field standardization, and hygiene workflows that prevent database decay." />
    <meta name="author" content="Victor Valentine Romo" />
    <meta property="og:title" content="CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows" />
    <meta property="og:description" content="Automated data quality systems for B2B CRMs. Validation rules, duplicate detection, field standardization, and hygiene workflows that prevent database decay." />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://b2bvic.com/articles/crm-data-quality-automation.html" />
    <meta property="og:site_name" content="B2B Vic" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows" />
    <meta name="twitter:description" content="Automated data quality systems for B2B CRMs. Validation rules, duplicate detection, field standardization, and hygiene workflows that prevent database decay." />
    <link rel="canonical" href="https://b2bvic.com/articles/crm-data-quality-automation.html" />

    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%230a0a0a' width='100' height='100' rx='12'/><text x='50' y='70' font-family='sans-serif' font-size='38' font-weight='700' fill='%23d97706' text-anchor='middle'>VVR</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700&family=DM+Sans:wght@400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              base: '#0a0a0a',
              surface: { DEFAULT: '#171717', overlay: '#262626' },
              accent: { DEFAULT: '#d97706', light: '#f59e0b' },
              zinc: {
                50: '#fafafa', 100: '#f4f4f5', 200: '#e4e4e7', 300: '#d4d4d8',
                400: '#a1a1aa', 500: '#71717a', 600: '#52525b', 700: '#3f3f46',
                800: '#27272a', 900: '#18181b', 950: '#09090b'
              }
            },
            fontFamily: {
              display: ['Sora', 'system-ui', '-apple-system', 'sans-serif'],
              body: ['Sora', 'system-ui', '-apple-system', 'sans-serif'],
              mono: ['IBM Plex Mono', 'ui-monospace', 'monospace']
            }
          }
        }
      }
    </script>
    <link rel="me" href="https://scalewithsearch.com" />
    <link rel="me" href="https://victorvalentineromo.com" />
    <link rel="me" href="https://aifirstsearch.com" />
    <link rel="me" href="https://browserprompt.com" />
    <link rel="me" href="https://creatinepedia.com" />
    <link rel="me" href="https://polytraffic.com" />
    <link rel="me" href="https://tattooremovalnear.com" />
    <link rel="me" href="https://comicstripai.com" />
    <link rel="me" href="https://b2bvic.com" />
    <link rel="me" href="https://aipaypercrawl.com" />
    <link rel="me" href="https://seobyrole.com" />
    <link rel="me" href="https://quickfixseo.com" />
    <style>

    /* Mega menu */
    .mega-panel { transition: opacity 0.15s ease, visibility 0.15s ease; }
    .mega-panel.hidden { opacity: 0; visibility: hidden; display: none; }
    .mega-panel:not(.hidden) { opacity: 1; visibility: visible; display: block; }
    .mega-link {
      display: block; padding: 6px 0;
      font-size: 0.875rem; color: #a1a1aa;
      transition: color 0.15s;
    }
    .mega-link:hover { color: #fafafa; text-decoration: none; }
    .mega-view-all {
      display: inline-block; margin-top: 12px;
      font-size: 0.8125rem; font-weight: 500;
      color: #d97706; transition: color 0.15s;
    }
    .mega-view-all:hover { color: #f59e0b; text-decoration: none; }

    /* Nav effects */
    .nav-link { position: relative; }
    .nav-link::after {
      content: ''; position: absolute; bottom: -2px; left: 0;
      width: 0; height: 1px; background: #d97706; transition: width 0.3s ease;
    }
    .nav-link:hover::after { width: 100%; }
    .cta-glow { position: relative; }
    .cta-glow::before {
      content: ''; position: absolute; inset: -2px;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      border-radius: inherit; opacity: 0; filter: blur(12px);
      transition: opacity 0.3s ease; z-index: -1;
    }
    .cta-glow:hover::before { opacity: 0.5; }

    /* Active trigger state */
    .mega-trigger[aria-expanded="true"] { color: #fafafa; }
    .mega-trigger[aria-expanded="true"] svg { transform: rotate(180deg); }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #0a0a0a; }
    ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #3f3f46; }

    /* Article prose overrides for dark theme */
    .prose-dark h1, .prose-dark h2, .prose-dark h3, .prose-dark h4 { color: #fafafa; }
    .prose-dark p, .prose-dark li, .prose-dark td, .prose-dark th { color: #a1a1aa; }
    .prose-dark strong { color: #fafafa; }
    .prose-dark a { color: #d97706; }
    .prose-dark a:hover { color: #f59e0b; }
    .prose-dark blockquote { border-left-color: #d97706; background: #171717; padding: 1rem 1.5rem; border-radius: 0 0.5rem 0.5rem 0; }
    .prose-dark blockquote p { color: #a1a1aa; }
    .prose-dark code { background: #171717; color: #f59e0b; padding: 0.15em 0.4em; border-radius: 0.25rem; font-size: 0.875em; }
    .prose-dark pre { background: #171717; border: 1px solid #27272a; border-radius: 0.5rem; }
    .prose-dark pre code { background: transparent; color: #a1a1aa; padding: 0; }
    .prose-dark hr { border-color: #27272a; }
    .prose-dark ul { list-style-type: disc; }
    .prose-dark ol { list-style-type: decimal; }
    .prose-dark table { border-collapse: collapse; }
    .prose-dark th { border-bottom: 2px solid #27272a; padding: 0.75rem; text-align: left; }
    .prose-dark td { border-bottom: 1px solid #27272a; padding: 0.75rem; }
    .prose-dark img { border-radius: 0.5rem; }

    </style>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Article",
      "headline": "CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows",
      "description": "Automated data quality systems for B2B CRMs. Validation rules, duplicate detection, field standardization, and hygiene workflows that prevent database decay.",
      "author": {
        "@type": "Person",
        "name": "Victor Valentine Romo",
        "url": "https://victorvalentineromo.com",
        "jobTitle": "Fractional SEO Consultant",
        "sameAs": [
          "https://scalewithsearch.com",
          "https://victorvalentineromo.com",
          "https://aifirstsearch.com",
          "https://browserprompt.com",
          "https://creatinepedia.com",
          "https://polytraffic.com",
          "https://tattooremovalnear.com",
          "https://comicstripai.com",
          "https://b2bvic.com",
          "https://aipaypercrawl.com",
          "https://seobyrole.com",
          "https://quickfixseo.com"
        ]
      },
      "publisher": {
        "@type": "Organization",
        "name": "B2B Vic",
        "url": "https://b2bvic.com"
      },
      "datePublished": "2026-02-08",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://b2bvic.com/articles/crm-data-quality-automation.html"
      }
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://b2bvic.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Writing",
          "item": "https://b2bvic.com/articles.html"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows"
        }
      ]
    }
  ]
}
    </script>
</head>
<body class="bg-[#0a0a0a] text-zinc-400 antialiased font-body">


  <nav class="fixed top-0 left-0 right-0 z-50 border-b border-zinc-800/60 bg-[#0a0a0a]/95 backdrop-blur-md">
    <div class="max-w-6xl mx-auto">
      <div class="flex items-center justify-between h-16 px-6">
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2 group">
          <span class="font-display font-700 text-xl tracking-tight text-amber-500 group-hover:text-amber-400 transition-colors">b2bvic</span>
        </a>

        <!-- Desktop Nav -->
        <div class="hidden lg:flex items-center gap-1">

          <!-- Writing dropdown -->
          <div class="relative" data-mega="writing">
            <button class="mega-trigger nav-link px-4 py-2 text-sm text-zinc-400 hover:text-zinc-200 transition-colors flex items-center gap-1 font-body font-500">
              Writing
              <svg class="w-3 h-3 opacity-50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
          </div>

          <!-- Services dropdown -->
          <div class="relative" data-mega="services">
            <button class="mega-trigger nav-link px-4 py-2 text-sm text-zinc-400 hover:text-zinc-200 transition-colors flex items-center gap-1 font-body font-500">
              Services
              <svg class="w-3 h-3 opacity-50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
          </div>

          <!-- Case Studies (direct link) -->
          <a href="/case-studies.html" class="nav-link px-4 py-2 text-sm text-zinc-400 hover:text-zinc-200 transition-colors font-body font-500">Case Studies</a>

          <!-- About (direct link) -->
          <a href="/about.html" class="nav-link px-4 py-2 text-sm text-zinc-400 hover:text-zinc-200 transition-colors font-body font-500">About</a>

          <div class="w-px h-4 bg-zinc-800 mx-2"></div>

          <!-- CTA -->
          <a href="/services.html#contact" class="px-5 py-2 text-sm font-semibold bg-amber-600 hover:bg-amber-500 text-white rounded-md transition-colors cta-glow font-display">Work With Me</a>
        </div>

        <!-- Mobile menu button -->
        <button id="mobile-menu-btn" aria-label="Open menu" class="lg:hidden p-2 text-zinc-400 hover:text-zinc-200">
          <svg id="menu-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          <svg id="close-icon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>

      <!-- MEGA PANEL: Writing -->
      <div id="mega-writing" class="mega-panel hidden border-t border-zinc-800/60 bg-[#0a0a0a]">
        <div class="max-w-6xl mx-auto px-6 py-8">
          <div class="grid grid-cols-4 gap-8">
            <div>
              <div class="flex items-center gap-2 mb-4">
                <span class="text-xs font-semibold tracking-wider text-zinc-500 uppercase">SEO Strategy</span>
              </div>
              <div class="space-y-1">
                <a href="/articles/why-fractional-seo-beats-agencies.html" class="mega-link">Fractional vs Agencies</a>
                <a href="/articles/why-your-seo-audit-failed.html" class="mega-link">Why SEO Audits Fail</a>
                <a href="/articles/enterprise-seo-audit-4-hour-framework.html" class="mega-link">4-Hour Enterprise Audit</a>
                <a href="/articles/saas-seo-url-architecture-subdomains-subdirectories.html" class="mega-link">SaaS URL Architecture</a>
              </div>
            </div>
            <div>
              <div class="flex items-center gap-2 mb-4">
                <span class="text-xs font-semibold tracking-wider text-zinc-500 uppercase">AI Systems</span>
              </div>
              <div class="space-y-1">
                <a href="/articles/ai-prompt-engineering-seo.html" class="mega-link">AI Prompt Engineering for SEO</a>
                <a href="/articles/local-llm-deployment-enterprise-marketing.html" class="mega-link">Local LLM Deployment</a>
                <a href="/articles/observer-protocol-ai-content-voice-homogenization.html" class="mega-link">Observer Protocol</a>
              </div>
            </div>
            <div>
              <div class="flex items-center gap-2 mb-4">
                <span class="text-xs font-semibold tracking-wider text-zinc-500 uppercase">Business Growth</span>
              </div>
              <div class="space-y-1">
                <a href="/articles/real-estate-seo-systems-database-driven-leads.html" class="mega-link">Database-Driven SEO</a>
                <a href="/articles/google-business-profile-multi-location-local-seo.html" class="mega-link">Multi-Location Local SEO</a>
                <a href="/articles/platform-seo-user-generated-content-scale.html" class="mega-link">Platform SEO at Scale</a>
              </div>
            </div>
            <div>
              <a href="/articles.html" class="mega-view-all">All articles &rarr;</a>
            </div>
          </div>
        </div>
      </div>

      <!-- MEGA PANEL: Services -->
      <div id="mega-services" class="mega-panel hidden border-t border-zinc-800/60 bg-[#0a0a0a]">
        <div class="max-w-6xl mx-auto px-6 py-8">
          <div class="grid grid-cols-4 gap-8">
            <div>
              <a href="/services.html#fractional" class="block group">
                <p class="text-sm font-semibold text-zinc-200 group-hover:text-amber-400 transition-colors">Fractional SEO Leadership</p>
                <p class="text-xs text-zinc-500 mt-1">$8,000/mo &middot; 10 hrs/mo</p>
                <p class="text-xs text-zinc-600 mt-2">Senior strategic oversight embedded in your team. 6-month minimum.</p>
              </a>
            </div>
            <div>
              <a href="/services.html#knowledge" class="block group">
                <p class="text-sm font-semibold text-zinc-200 group-hover:text-amber-400 transition-colors">AI Knowledge Systems</p>
                <p class="text-xs text-zinc-500 mt-1">$5,000 one-time</p>
                <p class="text-xs text-zinc-600 mt-2">Custom AI memory architecture for your team's workflows.</p>
              </a>
            </div>
            <div>
              <a href="/services.html#sites" class="block group">
                <p class="text-sm font-semibold text-zinc-200 group-hover:text-amber-400 transition-colors">Site Builds</p>
                <p class="text-xs text-zinc-500 mt-1">From $5,000</p>
                <p class="text-xs text-zinc-600 mt-2">SEO-native static sites engineered for topical authority.</p>
              </a>
            </div>
            <div>
              <a href="/services.html#consulting" class="block group">
                <p class="text-sm font-semibold text-zinc-200 group-hover:text-amber-400 transition-colors">Consulting</p>
                <p class="text-xs text-zinc-500 mt-1">$200/hr</p>
                <p class="text-xs text-zinc-600 mt-2">Strategy sessions, audits, second opinions. No commitment.</p>
              </a>
            </div>
          </div>
          <div class="mt-6 pt-4 border-t border-zinc-800/40">
            <a href="/services.html" class="text-sm text-amber-500 hover:text-amber-400 font-medium transition-colors">View all services &rarr;</a>
          </div>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden lg:hidden border-t border-zinc-800 bg-[#0a0a0a] max-h-[80vh] overflow-y-auto">
        <div class="px-6 py-4 space-y-1">
          <button class="mobile-section-toggle w-full flex items-center justify-between py-3 text-zinc-200 font-medium">
            Writing
            <svg class="w-4 h-4 text-zinc-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
          </button>
          <div class="mobile-section hidden pl-4 pb-3 space-y-1">
            <a href="/articles/why-fractional-seo-beats-agencies.html" class="block py-1.5 text-sm text-zinc-400 hover:text-white">Fractional vs Agencies</a>
            <a href="/articles/enterprise-seo-audit-4-hour-framework.html" class="block py-1.5 text-sm text-zinc-400 hover:text-white">4-Hour Enterprise Audit</a>
            <a href="/articles/ai-prompt-engineering-seo.html" class="block py-1.5 text-sm text-zinc-400 hover:text-white">AI Prompt Engineering for SEO</a>
            <a href="/articles.html" class="block py-1.5 text-sm text-amber-500 font-medium">All articles &rarr;</a>
          </div>

          <button class="mobile-section-toggle w-full flex items-center justify-between py-3 text-zinc-200 font-medium">
            Services
            <svg class="w-4 h-4 text-zinc-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
          </button>
          <div class="mobile-section hidden pl-4 pb-3 space-y-1">
            <a href="/services.html#fractional" class="block py-1.5 text-sm text-zinc-400 hover:text-white">Fractional SEO &middot; $8K/mo</a>
            <a href="/services.html#knowledge" class="block py-1.5 text-sm text-zinc-400 hover:text-white">AI Knowledge Systems &middot; $5K</a>
            <a href="/services.html#sites" class="block py-1.5 text-sm text-zinc-400 hover:text-white">Site Builds &middot; $5K+</a>
            <a href="/services.html#consulting" class="block py-1.5 text-sm text-zinc-400 hover:text-white">Consulting &middot; $200/hr</a>
            <a href="/services.html" class="block py-1.5 text-sm text-amber-500 font-medium">All services &rarr;</a>
          </div>

          <a href="/case-studies.html" class="block py-3 text-zinc-200 font-medium">Case Studies</a>
          <a href="/about.html" class="block py-3 text-zinc-200 font-medium">About</a>

          <a href="/services.html#contact" class="block mt-4 py-3 bg-amber-600 text-white text-center font-semibold rounded-lg">Work With Me</a>
        </div>
      </div>
    </div>
  </nav>

    <!-- Spacer for fixed nav -->
    <div class="h-16"></div>

    <!-- Breadcrumbs -->
    <div class="max-w-3xl mx-auto px-6 pt-8 pb-4">
      <nav class="text-xs text-zinc-600">
        <a href="/" class="hover:text-zinc-400 transition-colors">Home</a>
        <span class="mx-2">/</span>
        <a href="/articles.html" class="hover:text-zinc-400 transition-colors">Writing</a>
        <span class="mx-2">/</span>
        <span class="text-zinc-500">CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows</span>
      </nav>
    </div>

    <!-- Article -->
    <main class="max-w-3xl mx-auto px-6 pb-20">
        <article class="prose-dark">
            <h1 class="text-3xl md:text-4xl font-display font-700 text-[#fafafa] leading-tight mb-8">CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows</h1>
            <div class="flex items-center gap-4 mb-12 text-sm text-zinc-600">
              <span>Victor Valentine Romo</span>
              <span class="text-zinc-800">&middot;</span>
              <time datetime="2026-02-08">2026-02-08</time>
            </div>
            <div class="space-y-6 leading-relaxed text-base">
            <h1>CRM Data Quality Automation: Validation Rules, Deduplication, and Hygiene Workflows</h1>
<p>Poor CRM data quality costs B2B teams 20-30% of revenue through misdirected outreach, duplicate efforts, and missed opportunities buried in incomplete records. Manual cleanup fails—reps don&#39;t prioritize data hygiene, and databases with 10,000+ records can&#39;t be manually maintained. <strong>Automated data quality systems</strong> using validation rules, deduplication workflows, and field standardization prevent decay at entry and correct existing issues through scheduled jobs.</p>
<p>This guide covers automated quality enforcement, deduplication strategies, field standardization, and hygiene workflows that maintain clean CRM data without manual intervention.</p>
<h2>The Data Quality Problem</h2>
<h3>Common Quality Issues</h3>
<p><strong>Duplicates</strong>: Same person entered multiple times (different email variants, typos in name)</p>
<p><strong>Incomplete records</strong>: Missing phone, company, title fields</p>
<p><strong>Inconsistent formatting</strong>: &quot;CEO&quot; vs. &quot;Chief Executive Officer,&quot; &quot;San Francisco&quot; vs. &quot;SF&quot;</p>
<p><strong>Stale data</strong>: Contacts who left companies, outdated job titles</p>
<p><strong>Invalid data</strong>: Fake emails (<a href="mailto:test@test.com">test@test.com</a>), placeholder phone numbers (555-555-5555)</p>
<p><strong>Wrong data</strong>: Personal emails instead of work emails, incorrect company associations</p>
<h3>Impact on Operations</h3>
<p><strong>Sales</strong>: Reps contact wrong people, waste time on duplicates, miss opportunities in incomplete records</p>
<p><strong>Marketing</strong>: Email campaigns bounce (bad emails), messaging misses target (wrong industry/title)</p>
<p><strong>Reporting</strong>: Inaccurate metrics (pipeline inflated by duplicates, conversion rates skewed by bad data)</p>
<p><strong>Cost</strong>: Teams spend 10-20 hours weekly cleaning data manually (opportunity cost: $10K-$20K monthly)</p>
<h2>Validation Rules: Prevent Bad Data at Entry</h2>
<p>Validation rules block records from being saved unless they meet quality standards.</p>
<h3>Field-Level Validation</h3>
<p><strong>Email format validation</strong>:</p>
<p><strong>Rule</strong>: Email must contain &quot;@&quot; and &quot;.&quot; (basic validation)</p>
<p><strong>Advanced</strong>: Block common fake domains (test.com, example.com, tempmail.com)</p>
<p><strong>HubSpot implementation</strong>: Custom workflow → If email contains &quot;test.com&quot; → block contact creation or flag for review</p>
<p><strong>Salesforce implementation</strong>: Validation rule using REGEX:</p>
<pre><code>NOT(REGEX(Email, &quot;[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}&quot;))
</code></pre>
<p><strong>Phone number format validation</strong>:</p>
<p><strong>Rule</strong>: Phone must be 10 digits (US) or follow international format (+1-XXX-XXX-XXXX)</p>
<p><strong>Salesforce validation rule</strong>:</p>
<pre><code>AND(
  NOT(ISBLANK(Phone)),
  NOT(REGEX(Phone, &quot;\\d{10}|\\+\\d{1,3}-\\d{3}-\\d{3}-\\d{4}&quot;))
)
</code></pre>
<p>Error message: &quot;Phone must be 10 digits or international format.&quot;</p>
<p><strong>Company name validation</strong>:</p>
<p><strong>Rule</strong>: Company name cannot be empty for B2B contacts</p>
<p><strong>HubSpot required field</strong>: Mark &quot;Company&quot; as required on all forms</p>
<p><strong>Salesforce validation rule</strong>:</p>
<pre><code>AND(
  RecordType.Name = &quot;Business Contact&quot;,
  ISBLANK(Company)
)
</code></pre>
<h3>Cross-Field Validation</h3>
<p>Validate relationships between fields.</p>
<p><strong>Work email validation</strong>:</p>
<p><strong>Rule</strong>: If contact type = &quot;Business,&quot; email domain cannot be Gmail/Yahoo/Outlook</p>
<p><strong>Salesforce validation rule</strong>:</p>
<pre><code>AND(
  Contact_Type__c = &quot;Business&quot;,
  OR(
    CONTAINS(Email, &quot;@gmail.com&quot;),
    CONTAINS(Email, &quot;@yahoo.com&quot;),
    CONTAINS(Email, &quot;@outlook.com&quot;)
  )
)
</code></pre>
<p>Error message: &quot;Business contacts require work email, not personal.&quot;</p>
<p><strong>Title + seniority validation</strong>:</p>
<p><strong>Rule</strong>: If title contains &quot;VP,&quot; seniority level must be &quot;VP&quot; or higher</p>
<p><strong>Automation</strong>: HubSpot workflow auto-sets seniority based on title keywords</p>
<h3>Mandatory Field Enforcement</h3>
<p>Require fields before advancing deal stages.</p>
<p><strong>Example (Salesforce)</strong>:</p>
<p><strong>Stage</strong>: &quot;Qualification&quot; → &quot;Discovery&quot;</p>
<p><strong>Required fields</strong>: Contact phone, contact title, company size, budget range</p>
<p><strong>Validation rule</strong>:</p>
<pre><code>AND(
  ISPICKVAL(StageName, &quot;Discovery&quot;),
  OR(
    ISBLANK(Contact.Phone),
    ISBLANK(Contact.Title),
    ISBLANK(Account.Company_Size__c),
    ISBLANK(Budget_Range__c)
  )
)
</code></pre>
<p>Error: &quot;Cannot advance to Discovery without phone, title, company size, and budget.&quot;</p>
<p>This forces reps to complete data before progressing deals.</p>
<h2>Deduplication Strategies</h2>
<p>Duplicates multiply fast—one prospect fills out 3 forms, imports from 2 sources, manual entry by rep = 6 duplicate records.</p>
<h3>Native CRM Deduplication</h3>
<p><strong>HubSpot</strong>: Automatically merges duplicates based on email (cannot be disabled)</p>
<p><strong>Limitation</strong>: Only catches exact email matches. Doesn&#39;t catch:</p>
<ul>
<li>Different emails for same person (<a href="mailto:john@company.com">john@company.com</a> vs. <a href="mailto:j.smith@company.com">j.smith@company.com</a>)</li>
<li>Typos (<a href="mailto:john@compnay.com">john@compnay.com</a> vs. <a href="mailto:john@company.com">john@company.com</a>)</li>
</ul>
<p><strong>Salesforce</strong>: Offers duplicate rules but requires manual configuration</p>
<p><strong>Default rules</strong>: Match on email, name + company</p>
<p><strong>Limitation</strong>: Doesn&#39;t auto-merge, only blocks or alerts</p>
<h3>Fuzzy Matching</h3>
<p>Catch near-duplicates using fuzzy logic.</p>
<p><strong>Example matches</strong>:</p>
<ul>
<li>&quot;John Smith&quot; vs. &quot;Jon Smith&quot; (typo)</li>
<li>&quot;<a href="mailto:john@company.com">john@company.com</a>&quot; vs. &quot;<a href="mailto:jsmith@company.com">jsmith@company.com</a>&quot; (same company, likely same person)</li>
<li>&quot;ABC Corp&quot; vs. &quot;ABC Corporation&quot; (company name variant)</li>
</ul>
<p><strong>Tools</strong>:</p>
<p><strong>Insycle</strong> (HubSpot, Salesforce): AI-powered fuzzy matching, bulk merge</p>
<p><strong>Dedupely</strong> (HubSpot): Identifies duplicates across name, email, phone, company</p>
<p><strong>DemandTools</strong> (Salesforce): Enterprise deduplication with custom matching rules</p>
<h3>Deduplication Workflow</h3>
<p><strong>Step 1: Identify duplicates</strong></p>
<p>Run weekly scan using fuzzy matching tool. Generate report: &quot;50 duplicate pairs found.&quot;</p>
<p><strong>Step 2: Review and merge</strong></p>
<p><strong>Auto-merge</strong> (high-confidence matches): Exact email match, same phone, same company → merge automatically</p>
<p><strong>Manual review</strong> (low-confidence): Similar names, different emails → flag for human review</p>
<p><strong>Step 3: Choose master record</strong></p>
<p>When merging, select which record keeps its data:</p>
<p><strong>Most recent</strong>: Keep newest record (assumes it has latest data)</p>
<p><strong>Most complete</strong>: Keep record with most populated fields</p>
<p><strong>Custom rules</strong>: Keep record from specific source (e.g., always keep Salesforce record over marketing import)</p>
<p><strong>Step 4: Merge and archive</strong></p>
<p>Merge duplicate into master, archive the duplicate (don&#39;t delete—preserves history).</p>
<h3>Preventing Duplicates at Entry</h3>
<p><strong>HubSpot workflows</strong>:</p>
<p><strong>Trigger</strong>: Contact created</p>
<p><strong>Condition</strong>: Email matches existing contact</p>
<p><strong>Action</strong>: Merge new record into existing (auto-dedupe on creation)</p>
<p><strong>Salesforce duplicate rules</strong>:</p>
<p><strong>Rule</strong>: On contact creation, check if email exists</p>
<p><strong>Action</strong>: Block creation and show alert: &quot;Contact with this email already exists: [link to existing record]&quot;</p>
<p>This prevents duplicates before they enter the system.</p>
<h2>Field Standardization</h2>
<p>Inconsistent formatting breaks reporting and segmentation.</p>
<h3>Picklists Over Free Text</h3>
<p>Replace free-text fields with dropdown menus (picklists).</p>
<p><strong>Example</strong>:</p>
<p><strong>Before</strong>: Company Size (free text) → values include &quot;50-100,&quot; &quot;Medium,&quot; &quot;~75 employees,&quot; &quot;Mid-market&quot;</p>
<p><strong>After</strong>: Company Size (picklist) → values: &quot;1-10,&quot; &quot;11-50,&quot; &quot;51-200,&quot; &quot;201-500,&quot; &quot;500+&quot;</p>
<p><strong>Benefit</strong>: Consistent data enables segmentation (&quot;Show all companies 51-200 employees&quot;).</p>
<p><strong>Implementation</strong>:</p>
<ol>
<li>Audit existing values (export field, count unique values)</li>
<li>Define standard options (5-10 options max)</li>
<li>Convert field to picklist</li>
<li>Backfill existing records (map old values to new options)</li>
</ol>
<h3>Text Normalization</h3>
<p>Standardize free-text fields using automation.</p>
<p><strong>Title normalization</strong>:</p>
<p><strong>Input variants</strong>: &quot;Chief Executive Officer,&quot; &quot;CEO,&quot; &quot;C.E.O.,&quot; &quot;Chief Exec&quot;</p>
<p><strong>Normalized output</strong>: &quot;CEO&quot;</p>
<p><strong>HubSpot workflow</strong>:</p>
<p><strong>Trigger</strong>: Contact created or title updated</p>
<p><strong>Condition</strong>: Title contains &quot;Chief Executive Officer&quot; or &quot;C.E.O.&quot; or &quot;Chief Exec&quot;</p>
<p><strong>Action</strong>: Set title to &quot;CEO&quot;</p>
<p>Repeat for common titles (VP, Director, Manager, etc.).</p>
<p><strong>Location normalization</strong>:</p>
<p><strong>Input variants</strong>: &quot;San Francisco,&quot; &quot;SF,&quot; &quot;San Fran,&quot; &quot;San Francisco, CA&quot;</p>
<p><strong>Normalized output</strong>: &quot;San Francisco, CA&quot;</p>
<p><strong>Workflow</strong>:</p>
<p>Use conditional logic or third-party enrichment tool (<strong>Clearbit</strong>, <strong>ZoomInfo</strong>) to standardize location fields.</p>
<h3>Phone Number Formatting</h3>
<p><strong>Input variants</strong>: (555) 555-5555, 555-555-5555, +1 555 555 5555, 5555555555</p>
<p><strong>Normalized output</strong>: +1-555-555-5555 (international format)</p>
<p><strong>Salesforce formula field</strong>:</p>
<pre><code>IF(
  LEN(Phone) = 10,
  &quot;+1-&quot; &amp; LEFT(Phone, 3) &amp; &quot;-&quot; &amp; MID(Phone, 4, 3) &amp; &quot;-&quot; &amp; RIGHT(Phone, 4),
  Phone
)
</code></pre>
<p>This creates a read-only &quot;Formatted Phone&quot; field displaying standardized format.</p>
<h2>Hygiene Workflows</h2>
<p>Automated jobs that clean and enrich data on schedules.</p>
<h3>Incomplete Record Detection</h3>
<p><strong>Workflow</strong>: Flag contacts missing critical fields</p>
<p><strong>HubSpot workflow</strong>:</p>
<p><strong>Trigger</strong>: Contact exists</p>
<p><strong>Condition</strong>: Company OR Title OR Phone is empty</p>
<p><strong>Action</strong>: Set property &quot;Data Quality Status&quot; = &quot;Incomplete&quot;</p>
<p><strong>Schedule</strong>: Run weekly</p>
<p><strong>Report</strong>: List all contacts with &quot;Incomplete&quot; status, assign to ops team for enrichment.</p>
<h3>Stale Contact Detection</h3>
<p><strong>Workflow</strong>: Flag contacts with no activity in 180+ days</p>
<p><strong>Condition</strong>: Last contacted date &gt;180 days AND last email open/click date &gt;180 days</p>
<p><strong>Action</strong>: Set lifecycle stage to &quot;Dormant,&quot; suppress from active campaigns</p>
<p><strong>Benefit</strong>: Prevents wasting outreach on unengaged contacts</p>
<h3>Bounce Management</h3>
<p><strong>Workflow</strong>: Handle hard email bounces</p>
<p><strong>Trigger</strong>: Email hard bounces</p>
<p><strong>Action</strong>:</p>
<ol>
<li>Set email status to &quot;Invalid&quot;</li>
<li>Create task for rep: &quot;Verify contact info—email bounced&quot;</li>
<li>Suppress from future campaigns</li>
</ol>
<p><strong>Soft bounces</strong> (temporary delivery issues): Allow 3 attempts, then mark invalid if all bounce.</p>
<h3>Duplicate Company Cleanup</h3>
<p><strong>Workflow</strong>: Merge duplicate company records</p>
<p><strong>Trigger</strong>: Weekly scheduled job</p>
<p><strong>Logic</strong>: If two companies have identical name and same domain → merge</p>
<p><strong>Action</strong>: Keep company with most associated contacts, merge the other</p>
<h3>Invalid Data Removal</h3>
<p><strong>Workflow</strong>: Purge test records and invalid contacts</p>
<p><strong>Trigger</strong>: Monthly scheduled job</p>
<p><strong>Conditions</strong>: Email contains &quot;test,&quot; &quot;fake,&quot; &quot;example&quot; OR Phone = &quot;555-555-5555&quot; OR Company = &quot;Test Company&quot;</p>
<p><strong>Action</strong>: Delete or archive</p>
<p><strong>Benefit</strong>: Prevents test data from polluting reports</p>
<h2>Data Quality Dashboards</h2>
<p>Track quality metrics to identify decay.</p>
<h3>Key Metrics</h3>
<p><strong>Completeness score</strong>: % of records with all required fields populated</p>
<p><strong>Formula</strong>: Records with complete data ÷ Total records</p>
<p><strong>Target</strong>: &gt;85%</p>
<p><strong>Duplicate rate</strong>: % of records that are duplicates</p>
<p><strong>Formula</strong>: Duplicate records ÷ Total records</p>
<p><strong>Target</strong>: &lt;2%</p>
<p><strong>Invalid email rate</strong>: % of contacts with bounced/invalid emails</p>
<p><strong>Target</strong>: &lt;5%</p>
<p><strong>Stale contact rate</strong>: % of contacts with no activity in 180+ days</p>
<p><strong>Target</strong>: &lt;20%</p>
<p><strong>Data entry error rate</strong>: % of records flagged by validation rules (tracks how often reps try to save invalid data)</p>
<h3>Dashboard Views</h3>
<p><strong>HubSpot dashboard</strong>:</p>
<p><strong>Card 1</strong>: Completeness score (gauge: 88%)</p>
<p><strong>Card 2</strong>: Incomplete records count (350 contacts)</p>
<p><strong>Table</strong>: Top 10 reps by incomplete record count (targets coaching)</p>
<p><strong>Salesforce dashboard</strong>:</p>
<p><strong>Report 1</strong>: Duplicate contact pairs (table)</p>
<p><strong>Report 2</strong>: Invalid email count by lead source (identifies bad data sources)</p>
<p><strong>Report 3</strong>: Data quality trend (line chart: completeness score over 12 months)</p>
<h2>Third-Party Tools</h2>
<p>Native CRM features handle basics. Third-party tools scale advanced needs.</p>
<h3>Deduplication Tools</h3>
<p><strong>Insycle</strong>: Fuzzy matching, bulk merge, scheduled deduplication</p>
<p><strong>Price</strong>: $99-$499/month</p>
<p><strong>Dedupely</strong>: HubSpot-specific, AI-powered matching</p>
<p><strong>Price</strong>: $29-$149/month</p>
<p><strong>DemandTools</strong> (Salesforce): Enterprise-grade deduplication, normalization, enrichment</p>
<p><strong>Price</strong>: $1,200-$4,800/year</p>
<h3>Data Enrichment</h3>
<p>See <a href="crm-contact-enrichment.html">crm-contact-enrichment.html</a> for detailed coverage.</p>
<p><strong>Clearbit</strong>, <strong>ZoomInfo</strong>, <strong>Apollo.io</strong>: Append missing fields automatically</p>
<h3>Data Quality Monitoring</h3>
<p><strong>Validity</strong> (formerly PriceOne): Real-time data quality monitoring, alerts on decay</p>
<p><strong>Price</strong>: Custom (enterprise)</p>
<p><strong>Openprise</strong>: Data orchestration, normalization, quality scoring</p>
<p><strong>Price</strong>: Custom</p>
<h2>Measuring Data Quality ROI</h2>
<p>Track improvement over time.</p>
<p><strong>Before automation</strong> (Month 0):</p>
<ul>
<li>Completeness score: 65%</li>
<li>Duplicate rate: 8%</li>
<li>Invalid email rate: 12%</li>
<li>Manual cleanup time: 15 hours/week</li>
</ul>
<p><strong>After automation</strong> (Month 6):</p>
<ul>
<li>Completeness score: 88%</li>
<li>Duplicate rate: 1.5%</li>
<li>Invalid email rate: 3%</li>
<li>Manual cleanup time: 2 hours/week</li>
</ul>
<p><strong>Time saved</strong>: 13 hours/week × $50/hour × 4 weeks = $2,600/month</p>
<p><strong>Operational improvements</strong>:</p>
<ul>
<li>Email deliverability up 9% (fewer bounces)</li>
<li>Sales productivity up 12% (less time searching for correct records)</li>
<li>Conversion rates up 8% (better targeting from clean data)</li>
</ul>
<p><strong>Automation cost</strong>: $300/month (tools + workflow maintenance)</p>
<p><strong>Net benefit</strong>: $2,600 time savings + operational gains - $300 cost = $2,300+/month</p>
<h2>Frequently Asked Questions</h2>
<p><strong>How often should I run deduplication workflows?</strong></p>
<p>Weekly for ongoing prevention, monthly for deep cleanup. Weekly catches duplicates before they multiply (new imports, form submissions). Monthly scans catch edge cases (fuzzy matches, cross-object duplicates). After major list imports or CRM migrations, run immediate dedupe to prevent polluting clean data. If duplicate rate stays below 2%, reduce to bi-weekly. Above 5%, increase to twice weekly until stabilized.</p>
<p><strong>Should I delete duplicate records or merge them?</strong></p>
<p>Merge, don&#39;t delete. Deleting loses history (activity logs, email opens, past conversations). Merging consolidates data into one master record while preserving history. Exception: test records, spam contacts, or obvious fakes (email = &quot;<a href="mailto:asdf@asdf.com">asdf@asdf.com</a>&quot;) can be deleted. For real duplicates, always merge. Choose master record based on completeness (most populated fields) or recency (newest data). Archive the non-master record for reference.</p>
<p><strong>What&#39;s the best way to handle personal emails in B2B CRM (Gmail, Yahoo)?</strong></p>
<p>Tag them, don&#39;t delete. Create a field &quot;Email Type&quot; (work, personal, unknown). Suppress personal emails from work-hours campaigns but keep records for attribution (inbound lead may have used personal email initially). Request work email in follow-up (&quot;For better communication, please provide your work email&quot;). If they never provide work email, deprioritize (set lifecycle stage to &quot;Subscriber&quot; instead of &quot;Lead&quot;). Don&#39;t enrich personal emails—waste of API credits, low success rate.</p>
<p><strong>How do I prevent validation rules from frustrating sales reps?</strong></p>
<p>Balance enforcement with usability: (1) Only require fields that are genuinely needed (not nice-to-have), (2) Provide clear error messages (&quot;Phone required to book demo&quot; not &quot;Invalid data&quot;), (3) Offer workarounds (e.g., &quot;Unknown&quot; option in required picklists if info isn&#39;t available), (4) Train reps on why quality matters (show examples of bad data causing missed opportunities). Involve reps in rule design—rules forced top-down get resisted. Test rules with 2-3 reps before rolling out to full team.</p>
<p><strong>What if automated workflows accidentally merge wrong records or corrupt data?</strong></p>
<p>Build rollback mechanisms: (1) Test workflows in sandbox before production, (2) Start with &quot;Flag for review&quot; instead of auto-merge for first month, validate accuracy, (3) Enable audit logs (Salesforce Field History, HubSpot property history) to track changes, (4) Keep non-master records in &quot;Archived&quot; status for 90 days before deletion, (5) Create &quot;Undo merge&quot; process (HubSpot doesn&#39;t support unmerge, so archive includes full data export). Review merged records monthly—if error rate &gt;2%, pause automation and retrain matching logic. For critical workflows (enrichment, mass updates), require human approval before execution.</p>

            </div>
        </article>

        <!-- Back link -->
        <div class="mt-16 pt-8 border-t border-zinc-800/60">
            <a href="/articles.html" class="text-amber-500 hover:text-amber-400 font-medium transition-colors">&larr; All articles</a>
        </div>

        <!-- CTA -->
        <div class="mt-12 bg-[#171717] border border-zinc-800 rounded-xl p-8">
          <h3 class="text-xl font-display font-600 text-[#fafafa] mb-3">Need this implemented?</h3>
          <p class="text-zinc-400 text-sm mb-6 max-w-lg">I build the search infrastructure behind mid-market B2B growth. If you want these systems running inside your company, not just on your reading list.</p>
          <a href="/services.html#contact" class="inline-block px-6 py-3 bg-amber-600 hover:bg-amber-500 text-white font-semibold rounded-lg transition-colors text-sm">Work With Me</a>
        </div>
    </main>


  <footer class="border-t border-zinc-800/60 bg-[#0a0a0a] pt-16 pb-8">
    <div class="max-w-6xl mx-auto px-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-10 mb-14">

        <!-- Col 1: About Victor -->
        <div class="col-span-2 md:col-span-1">
          <div class="flex items-center gap-2 mb-4">
            <span class="font-display font-700 text-lg text-amber-500">b2bvic</span>
          </div>
          <p class="text-sm text-zinc-500 leading-relaxed mb-4">Victor Valentine Romo. Fractional SEO leadership and AI knowledge systems for mid-market B2B companies.</p>
          <a href="/services.html#contact" class="inline-block px-4 py-2 text-sm font-semibold bg-amber-600 hover:bg-amber-500 text-white rounded-md transition-colors">Work With Me</a>
        </div>

        <!-- Col 2: Popular Articles -->
        <div>
          <p class="text-xs text-zinc-600 uppercase tracking-wider mb-4 font-semibold">Writing</p>
          <ul class="space-y-2 text-sm">
            <li><a href="/articles/why-fractional-seo-beats-agencies.html" class="text-zinc-400 hover:text-white transition-colors">Fractional vs Agencies</a></li>
            <li><a href="/articles/why-your-seo-audit-failed.html" class="text-zinc-400 hover:text-white transition-colors">Why SEO Audits Fail</a></li>
            <li><a href="/articles/enterprise-seo-audit-4-hour-framework.html" class="text-zinc-400 hover:text-white transition-colors">4-Hour Audit Framework</a></li>
            <li><a href="/articles/ai-prompt-engineering-seo.html" class="text-zinc-400 hover:text-white transition-colors">AI Prompts for SEO</a></li>
            <li><a href="/articles/local-llm-deployment-enterprise-marketing.html" class="text-zinc-400 hover:text-white transition-colors">Local LLM Deployment</a></li>
            <li><a href="/articles/observer-protocol-ai-content-voice-homogenization.html" class="text-zinc-400 hover:text-white transition-colors">Observer Protocol</a></li>
            <li><a href="/articles/saas-seo-url-architecture-subdomains-subdirectories.html" class="text-zinc-400 hover:text-white transition-colors">SaaS URL Architecture</a></li>
            <li><a href="/articles.html" class="text-amber-500 hover:text-amber-400 transition-colors font-medium">All articles &rarr;</a></li>
          </ul>
        </div>

        <!-- Col 3: Services -->
        <div>
          <p class="text-xs text-zinc-600 uppercase tracking-wider mb-4 font-semibold">Services</p>
          <ul class="space-y-2 text-sm">
            <li><a href="/services.html#fractional" class="text-zinc-400 hover:text-white transition-colors">Fractional SEO ($8K/mo)</a></li>
            <li><a href="/services.html#knowledge" class="text-zinc-400 hover:text-white transition-colors">AI Knowledge Systems ($5K)</a></li>
            <li><a href="/services.html#sites" class="text-zinc-400 hover:text-white transition-colors">Site Builds ($5K+)</a></li>
            <li><a href="/services.html#consulting" class="text-zinc-400 hover:text-white transition-colors">Consulting ($200/hr)</a></li>
            <li><a href="/about.html" class="text-zinc-400 hover:text-white transition-colors">About</a></li>
            <li><a href="/case-studies.html" class="text-zinc-400 hover:text-white transition-colors">Case Studies</a></li>
          </ul>
        </div>

        <!-- Col 4: Network -->
        <div>
          <p class="text-xs text-zinc-600 uppercase tracking-wider mb-4 font-semibold">Network</p>
          <ul class="space-y-2 text-sm">
            <li><a href="https://scalewithsearch.com" target="_blank" rel="me" class="text-zinc-400 hover:text-white transition-colors">Scale With Search</a></li>
            <li><a href="https://aifirstsearch.com" target="_blank" rel="me" class="text-zinc-400 hover:text-white transition-colors">AI First Search</a></li>
            <li><a href="https://browserprompt.com" target="_blank" rel="me" class="text-zinc-400 hover:text-white transition-colors">Browser Prompt</a></li>
            <li><a href="https://polytraffic.com" target="_blank" rel="me" class="text-zinc-400 hover:text-white transition-colors">Polytraffic</a></li>
            <li><a href="https://victorvalentineromo.com" target="_blank" rel="me" class="text-zinc-400 hover:text-white transition-colors">Victor Valentine Romo</a></li>
            <li><a href="https://seobyrole.com" target="_blank" rel="me" class="text-zinc-400 hover:text-white transition-colors">SEO By Role</a></li>
          </ul>
        </div>
      </div>

      <!-- Bottom bar -->
      <div class="pt-8 border-t border-zinc-800/60 flex flex-col md:flex-row items-center justify-between gap-4">
        <p class="text-xs text-zinc-700">&copy; 2026 Victor Valentine Romo. All rights reserved.</p>
        <p class="text-xs text-zinc-700">A <a href="https://scalewithsearch.com" target="_blank" class="text-zinc-500 hover:text-amber-500 transition-colors">Scale With Search</a> property.</p>
      </div>
    </div>
  </footer>


  <script>
    // Mega menu
    (function() {
      const triggers = document.querySelectorAll('.mega-trigger');
      const panels = document.querySelectorAll('.mega-panel');
      let closeTimeout = null;

      function openPanel(id) {
        clearTimeout(closeTimeout);
        panels.forEach(p => p.classList.add('hidden'));
        triggers.forEach(t => t.setAttribute('aria-expanded', 'false'));
        const panel = document.getElementById('mega-' + id);
        const trigger = document.querySelector('[data-mega="' + id + '"] .mega-trigger');
        if (panel) panel.classList.remove('hidden');
        if (trigger) trigger.setAttribute('aria-expanded', 'true');
      }

      function scheduleClose() {
        closeTimeout = setTimeout(() => {
          panels.forEach(p => p.classList.add('hidden'));
          triggers.forEach(t => t.setAttribute('aria-expanded', 'false'));
        }, 200);
      }

      function cancelClose() { clearTimeout(closeTimeout); }

      triggers.forEach(btn => {
        const wrapper = btn.closest('[data-mega]');
        const id = wrapper.getAttribute('data-mega');
        btn.addEventListener('mouseenter', () => openPanel(id));
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const panel = document.getElementById('mega-' + id);
          if (panel && !panel.classList.contains('hidden')) {
            panel.classList.add('hidden');
            btn.setAttribute('aria-expanded', 'false');
          } else {
            openPanel(id);
          }
        });
        wrapper.addEventListener('mouseleave', scheduleClose);
      });

      panels.forEach(panel => {
        panel.addEventListener('mouseenter', cancelClose);
        panel.addEventListener('mouseleave', scheduleClose);
      });

      document.addEventListener('click', (e) => {
        if (!e.target.closest('[data-mega]') && !e.target.closest('.mega-panel')) {
          panels.forEach(p => p.classList.add('hidden'));
          triggers.forEach(t => t.setAttribute('aria-expanded', 'false'));
        }
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          panels.forEach(p => p.classList.add('hidden'));
          triggers.forEach(t => t.setAttribute('aria-expanded', 'false'));
        }
      });
    })();

    // Mobile menu
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');
    if (mobileMenuBtn) {
      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        menuIcon.classList.toggle('hidden');
        closeIcon.classList.toggle('hidden');
      });
    }

    // Mobile accordion sections
    document.querySelectorAll('.mobile-section-toggle').forEach(btn => {
      btn.addEventListener('click', () => {
        const section = btn.nextElementSibling;
        const chevron = btn.querySelector('svg');
        section.classList.toggle('hidden');
        chevron.style.transform = section.classList.contains('hidden') ? '' : 'rotate(180deg)';
      });
    });

    // Self-link neutralizer
    (function() {
      const currentPath = window.location.pathname.replace(/\.html$/, '').replace(/\/$/, '') || '/';
      document.querySelectorAll('a[href]').forEach(a => {
        const href = a.getAttribute('href').replace(/\.html$/, '').replace(/\/$/, '') || '/';
        if (href === currentPath) {
          a.removeAttribute('href');
          a.setAttribute('aria-current', 'page');
          a.style.opacity = '0.5';
          a.style.pointerEvents = 'none';
        }
      });
    })();
  </script>

</body>
</html>